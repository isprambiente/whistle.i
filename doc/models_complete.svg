<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.26.3 (20100126.1600)
 -->
<!-- Title: models_diagram Pages: 1 -->
<svg width="438pt" height="984pt"
 viewBox="0.00 0.00 438.00 984.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 980)">
<title>models_diagram</title>
<polygon fill="white" stroke="white" points="-4,5 -4,-980 435,-980 435,5 -4,5"/>
<!-- _diagram_info -->
<g id="node1" class="node"><title>_diagram_info</title>
<text text-anchor="start" x="8" y="-959.8" font-family="Times Roman,serif" font-size="13.00">Models diagram</text>
<text text-anchor="start" x="8" y="-942.8" font-family="Times Roman,serif" font-size="13.00">Date: Apr 27 2015 &#45; 14:25</text>
<text text-anchor="start" x="8" y="-925.8" font-family="Times Roman,serif" font-size="13.00">Migration version: 20150325111311</text>
<text text-anchor="start" x="8" y="-908.8" font-family="Times Roman,serif" font-size="13.00">Generated by RailRoady 1.3.0</text>
<text text-anchor="start" x="8" y="-891.8" font-family="Times Roman,serif" font-size="13.00">http://railroady.prestonlee.com</text>
</g>
<!-- User -->
<g id="node2" class="node"><title>User</title>
<polyline fill="none" stroke="black" points="30.5,-544.5 179.5,-544.5 "/>
<path fill="none" stroke="black" d="M179.5,-544.5C185.5,-544.5 191.5,-550.5 191.5,-556.5"/>
<polyline fill="none" stroke="black" points="191.5,-556.5 191.5,-833.5 "/>
<path fill="none" stroke="black" d="M191.5,-833.5C191.5,-839.5 185.5,-845.5 179.5,-845.5"/>
<polyline fill="none" stroke="black" points="179.5,-845.5 30.5,-845.5 "/>
<path fill="none" stroke="black" d="M30.5,-845.5C24.5,-845.5 18.5,-839.5 18.5,-833.5"/>
<polyline fill="none" stroke="black" points="18.5,-833.5 18.5,-556.5 "/>
<path fill="none" stroke="black" d="M18.5,-556.5C18.5,-550.5 24.5,-544.5 30.5,-544.5"/>
<text text-anchor="middle" x="105" y="-828.9" font-family="Times Roman,serif" font-size="14.00">User</text>
<polyline fill="none" stroke="black" points="18.5,-818.5 191.5,-818.5 "/>
<text text-anchor="start" x="26.5" y="-801.9" font-family="Times Roman,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="26.5" y="-782.9" font-family="Times Roman,serif" font-size="14.00">sign_in_count :integer</text>
<text text-anchor="start" x="26.5" y="-763.9" font-family="Times Roman,serif" font-size="14.00">current_sign_in_at :datetime</text>
<text text-anchor="start" x="26.5" y="-744.9" font-family="Times Roman,serif" font-size="14.00">last_sign_in_at :datetime</text>
<text text-anchor="start" x="26.5" y="-725.9" font-family="Times Roman,serif" font-size="14.00">current_sign_in_ip :inet</text>
<text text-anchor="start" x="26.5" y="-706.9" font-family="Times Roman,serif" font-size="14.00">last_sign_in_ip :inet</text>
<text text-anchor="start" x="26.5" y="-687.9" font-family="Times Roman,serif" font-size="14.00">username :string</text>
<text text-anchor="start" x="26.5" y="-668.9" font-family="Times Roman,serif" font-size="14.00">label :string</text>
<text text-anchor="start" x="26.5" y="-649.9" font-family="Times Roman,serif" font-size="14.00">metadata :jsonb</text>
<text text-anchor="start" x="26.5" y="-630.9" font-family="Times Roman,serif" font-size="14.00">committee :boolean</text>
<text text-anchor="start" x="26.5" y="-611.9" font-family="Times Roman,serif" font-size="14.00">pub :text</text>
<text text-anchor="start" x="26.5" y="-592.9" font-family="Times Roman,serif" font-size="14.00">priv :text</text>
<text text-anchor="start" x="26.5" y="-573.9" font-family="Times Roman,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="26.5" y="-554.9" font-family="Times Roman,serif" font-size="14.00">updated_at :datetime</text>
</g>
<!-- Destination -->
<g id="node4" class="node"><title>Destination</title>
<polyline fill="none" stroke="black" points="225.5,-225 350.5,-225 "/>
<path fill="none" stroke="black" d="M350.5,-225C356.5,-225 362.5,-231 362.5,-237"/>
<polyline fill="none" stroke="black" points="362.5,-237 362.5,-495 "/>
<path fill="none" stroke="black" d="M362.5,-495C362.5,-501 356.5,-507 350.5,-507"/>
<polyline fill="none" stroke="black" points="350.5,-507 225.5,-507 "/>
<path fill="none" stroke="black" d="M225.5,-507C219.5,-507 213.5,-501 213.5,-495"/>
<polyline fill="none" stroke="black" points="213.5,-495 213.5,-237 "/>
<path fill="none" stroke="black" d="M213.5,-237C213.5,-231 219.5,-225 225.5,-225"/>
<text text-anchor="middle" x="288" y="-490.4" font-family="Times Roman,serif" font-size="14.00">Destination</text>
<polyline fill="none" stroke="black" points="213.5,-480 362.5,-480 "/>
<text text-anchor="start" x="221.5" y="-463.4" font-family="Times Roman,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="221.5" y="-444.4" font-family="Times Roman,serif" font-size="14.00">user_id :integer</text>
<text text-anchor="start" x="221.5" y="-425.4" font-family="Times Roman,serif" font-size="14.00">message_id :integer</text>
<text text-anchor="start" x="221.5" y="-406.4" font-family="Times Roman,serif" font-size="14.00">encrypted_key :binary</text>
<text text-anchor="start" x="221.5" y="-387.4" font-family="Times Roman,serif" font-size="14.00">encrypted_body :binary</text>
<text text-anchor="start" x="221.5" y="-368.4" font-family="Times Roman,serif" font-size="14.00">encrypted_detail :binary</text>
<text text-anchor="start" x="221.5" y="-349.4" font-family="Times Roman,serif" font-size="14.00">readed :boolean</text>
<text text-anchor="start" x="221.5" y="-330.4" font-family="Times Roman,serif" font-size="14.00">readed_at :datetime</text>
<text text-anchor="start" x="221.5" y="-311.4" font-family="Times Roman,serif" font-size="14.00">detailed :boolean</text>
<text text-anchor="start" x="221.5" y="-292.4" font-family="Times Roman,serif" font-size="14.00">detailed_at :datetime</text>
<text text-anchor="start" x="221.5" y="-273.4" font-family="Times Roman,serif" font-size="14.00">note :text</text>
<text text-anchor="start" x="221.5" y="-254.4" font-family="Times Roman,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="221.5" y="-235.4" font-family="Times Roman,serif" font-size="14.00">updated_at :datetime</text>
</g>
<!-- User&#45;&gt;Destination -->
<g id="edge2" class="edge"><title>User&#45;&gt;Destination</title>
<path fill="none" stroke="#6accd7" d="M192.793,-537.164C198.023,-527.762 203.269,-518.331 208.462,-508.994"/>
<ellipse fill="none" stroke="#6accd7" cx="190.679" cy="-540.965" rx="4.00002" ry="4.00002"/>
<polygon fill="#6accd7" stroke="#6accd7" points="208.562,-508.814 217.356,-502.262 210.993,-504.445 213.423,-500.075 213.423,-500.075 213.423,-500.075 210.993,-504.445 209.491,-497.888 208.562,-508.814 208.562,-508.814"/>
</g>
<!-- Message -->
<g id="node3" class="node"><title>Message</title>
<polyline fill="none" stroke="black" points="220.5,-630 327.5,-630 "/>
<path fill="none" stroke="black" d="M327.5,-630C333.5,-630 339.5,-636 339.5,-642"/>
<polyline fill="none" stroke="black" points="339.5,-642 339.5,-748 "/>
<path fill="none" stroke="black" d="M339.5,-748C339.5,-754 333.5,-760 327.5,-760"/>
<polyline fill="none" stroke="black" points="327.5,-760 220.5,-760 "/>
<path fill="none" stroke="black" d="M220.5,-760C214.5,-760 208.5,-754 208.5,-748"/>
<polyline fill="none" stroke="black" points="208.5,-748 208.5,-642 "/>
<path fill="none" stroke="black" d="M208.5,-642C208.5,-636 214.5,-630 220.5,-630"/>
<text text-anchor="middle" x="274" y="-743.4" font-family="Times Roman,serif" font-size="14.00">Message</text>
<polyline fill="none" stroke="black" points="208.5,-733 339.5,-733 "/>
<text text-anchor="start" x="216.5" y="-716.4" font-family="Times Roman,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="216.5" y="-697.4" font-family="Times Roman,serif" font-size="14.00">status :integer</text>
<text text-anchor="start" x="216.5" y="-678.4" font-family="Times Roman,serif" font-size="14.00">year :integer</text>
<text text-anchor="start" x="216.5" y="-659.4" font-family="Times Roman,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="216.5" y="-640.4" font-family="Times Roman,serif" font-size="14.00">updated_at :datetime</text>
</g>
<!-- Message&#45;&gt;Destination -->
<g id="edge6" class="edge"><title>Message&#45;&gt;Destination</title>
<path fill="none" stroke="#18ac09" d="M277.14,-621.201C278.452,-590.387 280.026,-553.397 281.563,-517.263"/>
<ellipse fill="none" stroke="#18ac09" cx="276.953" cy="-625.61" rx="4" ry="4"/>
<polygon fill="#18ac09" stroke="#18ac09" points="281.57,-517.091 286.492,-507.292 281.783,-512.096 281.996,-507.101 281.996,-507.101 281.996,-507.101 281.783,-512.096 277.5,-506.909 281.57,-517.091 281.57,-517.091"/>
</g>
<!-- Attachment -->
<g id="node5" class="node"><title>Attachment</title>
<polyline fill="none" stroke="black" points="287.5,-0.5 418.5,-0.5 "/>
<path fill="none" stroke="black" d="M418.5,-0.5C424.5,-0.5 430.5,-6.5 430.5,-12.5"/>
<polyline fill="none" stroke="black" points="430.5,-12.5 430.5,-175.5 "/>
<path fill="none" stroke="black" d="M430.5,-175.5C430.5,-181.5 424.5,-187.5 418.5,-187.5"/>
<polyline fill="none" stroke="black" points="418.5,-187.5 287.5,-187.5 "/>
<path fill="none" stroke="black" d="M287.5,-187.5C281.5,-187.5 275.5,-181.5 275.5,-175.5"/>
<polyline fill="none" stroke="black" points="275.5,-175.5 275.5,-12.5 "/>
<path fill="none" stroke="black" d="M275.5,-12.5C275.5,-6.5 281.5,-0.5 287.5,-0.5"/>
<text text-anchor="middle" x="353" y="-170.9" font-family="Times Roman,serif" font-size="14.00">Attachment</text>
<polyline fill="none" stroke="black" points="275.5,-160.5 430.5,-160.5 "/>
<text text-anchor="start" x="283.5" y="-143.9" font-family="Times Roman,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="283.5" y="-124.9" font-family="Times Roman,serif" font-size="14.00">destination_id :integer</text>
<text text-anchor="start" x="283.5" y="-105.9" font-family="Times Roman,serif" font-size="14.00">file_file_name :string</text>
<text text-anchor="start" x="283.5" y="-86.9" font-family="Times Roman,serif" font-size="14.00">file_content_type :string</text>
<text text-anchor="start" x="283.5" y="-67.9" font-family="Times Roman,serif" font-size="14.00">file_file_size :integer</text>
<text text-anchor="start" x="283.5" y="-48.9" font-family="Times Roman,serif" font-size="14.00">file_updated_at :datetime</text>
<text text-anchor="start" x="283.5" y="-29.9" font-family="Times Roman,serif" font-size="14.00">created_at :datetime</text>
<text text-anchor="start" x="283.5" y="-10.9" font-family="Times Roman,serif" font-size="14.00">updated_at :datetime</text>
</g>
<!-- Destination&#45;&gt;Attachment -->
<g id="edge10" class="edge"><title>Destination&#45;&gt;Attachment</title>
<path fill="none" stroke="#7c04a5" d="M323.632,-216.893C325.179,-210.418 326.717,-203.984 328.231,-197.648"/>
<ellipse fill="none" stroke="#7c04a5" cx="322.667" cy="-220.931" rx="4.00001" ry="4.00001"/>
<polygon fill="#7c04a5" stroke="#7c04a5" points="328.264,-197.509 334.965,-188.829 329.426,-192.646 330.589,-187.783 330.589,-187.783 330.589,-187.783 329.426,-192.646 326.212,-186.737 328.264,-197.509 328.264,-197.509"/>
</g>
<!-- ActiveRecord::Base -->
<g id="node7" class="node"><title>ActiveRecord::Base</title>
<ellipse fill="none" stroke="black" cx="320" cy="-929" rx="87.889" ry="19.0919"/>
<text text-anchor="middle" x="320" y="-925.9" font-family="Times Roman,serif" font-size="14.00">ActiveRecord::Base</text>
</g>
<!-- ActiveRecord::Base&#45;&gt;User -->
<g id="edge4" class="edge"><title>ActiveRecord::Base&#45;&gt;User</title>
<path fill="none" stroke="black" d="M287.266,-911.301C261.496,-896.272 225.751,-872.897 200,-846 197.216,-843.092 194.469,-840.089 191.764,-837.01"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Message -->
<g id="edge8" class="edge"><title>ActiveRecord::Base&#45;&gt;Message</title>
<path fill="none" stroke="black" d="M316.236,-909.851C309.884,-877.542 296.76,-810.781 286.817,-760.201"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Destination -->
<g id="edge12" class="edge"><title>ActiveRecord::Base&#45;&gt;Destination</title>
<path fill="none" stroke="black" d="M328.39,-910.001C335.207,-893.465 344.281,-868.66 348,-846 369.739,-713.55 369.723,-676.453 348,-544 346.021,-531.932 343.334,-519.58 340.189,-507.286"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Attachment -->
<g id="edge14" class="edge"><title>ActiveRecord::Base&#45;&gt;Attachment</title>
<path fill="none" stroke="black" d="M335.366,-910.273C347.421,-894.297 363.252,-870.14 370,-846 444.422,-579.761 390.003,-499.791 371,-224 370.186,-212.18 368.959,-199.798 367.522,-187.57"/>
</g>
</g>
</svg>
